<nav id="navbar" class="navbar navbar-dark navbar-expand-md bg-dark">
    <div class="container-fluid">
        <%= link_to('Virtual Mixologist', root_url, class: 'navbar-brand') %>

        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#navbarContent" aria-controls="navbarContent">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="navbarContent" aria-labelledby="navbarLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="navbarLabel">Virtual Mixologist</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>

            <div class="offcanvas-body">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <%= link_to('Home', root_url, class: "nav-link#{' active' if current_page?(root_path)}", aria_current: current_page?(root_path) ? 'page' : false) %>
                    </li>

                    <li class="nav-item">
                        <%= link_to('Ingredients', ingredients_path, class: 'nav-link') %>
                    </li>

                    <li class="nav-item">
                        <%= link_to('Recipes', recipes_path, class: "nav-link#{' active' if controller_name == 'recipes'}", aria_current: controller_name == 'recipes' ? 'page' : false) %>
                    </li>

                    <% if logged_in? %>
                    <li class="nav-item dropdown">
                        <a href="#" id="account" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Account <b class="caret"></b>
                        </a>
                        <ul id="dropdown-menu" class="dropdown-menu dropdown-menu-dark">
                            <li><%= link_to "Profile", current_user, class: 'dropdown-item' %></li>
                            <li><%= link_to "Settings", '#', class: 'dropdown-item' %></li>
                            <li><%= link_to('Tried Recipes', user_recipes_path, aria_current: controller_name == 'user_recipes' ? 'page' : false, class: 'dropdown-item') %></li>
                            <li><%= link_to('Inventory', ingredient_items_path, aria_current: controller_name == 'ingredient_items' ? 'page' : false, class: 'dropdown-item') %></li>
                            <li><%= link_to "Log out", logout_path, class: 'dropdown-item', data: { "turbo-method": :delete } %></li>
                        </ul>

                    </li>
                    
                    <% else %>
                     <%= link_to('Login', login_path, class: "nav-link#{' active' if current_page?(login_path) || current_page?(signup_path)}", aria_current: current_page?(login_path) || current_page?(signup_path) ? 'page' : false) %>
                    
                    <% end %>

                </ul>
            </div>
        </div>
    </div>
</nav>
